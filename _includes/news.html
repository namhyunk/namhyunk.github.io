{% assign news_items = site.data.news | sort: "date" | reverse %}
{% assign news_limit = include.limit | default: 8 %}

<div class="news">
  <ol class="news__list">
    {% for item in news_items limit: news_limit %}
      {% assign emoji = "âœ¨" %}
      {% if item.label contains "Preprint" %}
        {% assign emoji = "ðŸ§ª" %}
      {% elsif item.label contains "Journal" %}
        {% assign emoji = "ðŸ“„" %}
      {% elsif item.label contains "Conference" %}
        {% assign emoji = "ðŸŽ¤" %}
      {% endif %}

      <li class="news__item">
        <div class="news__marker" aria-hidden="true">{{ forloop.index }}</div>
        <div class="news__content">
          <div class="news__meta">
            <time class="news__date" datetime="{{ item.date }}">{{ item.date | date: "%b %d, %Y" }}</time>
            {% if item.label %}
              <span class="news__label">{{ item.label }}</span>
            {% endif %}
          </div>

          <div class="news__headline">
            <span class="news__emoji" aria-hidden="true">{{ emoji }}</span>
            {% if item.url %}
              <a class="news__title" href="{{ item.url }}" rel="noopener">{{ item.title }}</a>
            {% else %}
              <span class="news__title">{{ item.title }}</span>
            {% endif %}
          </div>

          {% if item.description %}
            <div class="news__desc">{{ item.description }}</div>
          {% endif %}
        </div>
      </li>
    {% endfor %}
  </ol>
</div>
